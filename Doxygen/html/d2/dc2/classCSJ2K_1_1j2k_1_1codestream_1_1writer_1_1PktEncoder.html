<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>VirtualReality: CSJ2K.j2k.codestream.writer.PktEncoder Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">VirtualReality
   </div>
   <div id="projectbrief">An Open Source Virtual World Server</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Events</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="../../d2/d57/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CSJ2K.j2k.codestream.writer.PktEncoder Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class builds packets and keeps the state information of packet interdependencies. It also supports saving the state and reverting (restoring) to the last saved state, with the <a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#a911da6190d2eea425cf10ac1cca0425e" title="Saves the current state of this object. The last saved state can be restored with the restore() metho...">save()</a> and <a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#afcc61edcf6b8a5a76340cc8d287b2c3d" title="Restores the last saved state of this object. An IllegalArgumentException is thrown if no state has b...">restore()</a> methods.  
 <a href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a0853e901727617376d267ad4ff5cf398"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../db/dd4/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1BitOutputBuffer.html">BitOutputBuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#a0853e901727617376d267ad4ff5cf398">encodePacket</a> (int ly, int c, int r, int t, <a class="el" href="../../d2/d87/classCSJ2K_1_1j2k_1_1entropy_1_1encoder_1_1CBlkRateDistStats.html">CBlkRateDistStats</a>[][] cbs, int[][] tIndx, <a class="el" href="../../db/dd4/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1BitOutputBuffer.html">BitOutputBuffer</a> hbuf, byte[] bbuf, int pIdx)</td></tr>
<tr class="memdesc:a0853e901727617376d267ad4ff5cf398"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes a packet and returns the buffer containing the encoded packet header. The code-blocks appear in a 3D array of CBlkRateDistStats, 'cbs'. The first index is the tile index in lexicographical order, the second index is the subband index (as defined in the Subband class), and the third index is the code-block index (whithin the subband tile) in lexicographical order as well. The indexes of the new truncation points for each code-block are specified by the 3D array of int 'tIndx'. The indices of this array are the same as for cbs. The truncation point indices in 'tIndx' are the indices of the elements of the 'truncIdxs' array, of the CBlkRateDistStats class, that give the real truncation points. If a truncation point index is negative it means that the code-block has not been included in any layer yet. If the truncation point is less than or equal to the highest truncation point used in previous layers then the code-block is not included in the packet. Otherwise, if larger, the code-block is included in the packet. The body of the packet can be obtained with the getLastBodyBuf() and getLastBodyLen() methods.  <a href="#a0853e901727617376d267ad4ff5cf398">More...</a><br/></td></tr>
<tr class="separator:a0853e901727617376d267ad4ff5cf398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96f86822014e8d0b2d084f6d532f9407"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d4/de8/classCSJ2K_1_1j2k_1_1codestream_1_1PrecInfo.html">PrecInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#a96f86822014e8d0b2d084f6d532f9407">getPrecInfo</a> (int t, int c, int r, int p)</td></tr>
<tr class="memdesc:a96f86822014e8d0b2d084f6d532f9407"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns information about a given precinct  <a href="#a96f86822014e8d0b2d084f6d532f9407">More...</a><br/></td></tr>
<tr class="separator:a96f86822014e8d0b2d084f6d532f9407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20069a2adb18d335275fff0369db6511"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#a20069a2adb18d335275fff0369db6511">PktEncoder</a> (<a class="el" href="../../dc/d4a/interfaceCSJ2K_1_1j2k_1_1entropy_1_1encoder_1_1CodedCBlkDataSrcEnc.html">CodedCBlkDataSrcEnc</a> infoSrc, <a class="el" href="../../dc/d1a/classCSJ2K_1_1j2k_1_1encoder_1_1EncoderSpecs.html">EncoderSpecs</a> encSpec, <a class="el" href="../../d4/d7a/classCSJ2K_1_1j2k_1_1image_1_1Coord.html">Coord</a>[][][] numPrec, <a class="el" href="../../d6/d40/classCSJ2K_1_1j2k_1_1util_1_1ParameterList.html">ParameterList</a> pl)</td></tr>
<tr class="memdesc:a20069a2adb18d335275fff0369db6511"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new packet encoder object, using the information from the 'infoSrc' object.  <a href="#a20069a2adb18d335275fff0369db6511">More...</a><br/></td></tr>
<tr class="separator:a20069a2adb18d335275fff0369db6511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae7863741bf200ff405b32daf1296257"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#aae7863741bf200ff405b32daf1296257">reset</a> ()</td></tr>
<tr class="memdesc:aae7863741bf200ff405b32daf1296257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the state of the object to the initial state, as if the object was just created.  <a href="#aae7863741bf200ff405b32daf1296257">More...</a><br/></td></tr>
<tr class="separator:aae7863741bf200ff405b32daf1296257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcc61edcf6b8a5a76340cc8d287b2c3d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#afcc61edcf6b8a5a76340cc8d287b2c3d">restore</a> ()</td></tr>
<tr class="memdesc:afcc61edcf6b8a5a76340cc8d287b2c3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restores the last saved state of this object. An IllegalArgumentException is thrown if no state has been saved.  <a href="#afcc61edcf6b8a5a76340cc8d287b2c3d">More...</a><br/></td></tr>
<tr class="separator:afcc61edcf6b8a5a76340cc8d287b2c3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a911da6190d2eea425cf10ac1cca0425e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#a911da6190d2eea425cf10ac1cca0425e">save</a> ()</td></tr>
<tr class="memdesc:a911da6190d2eea425cf10ac1cca0425e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the current state of this object. The last saved state can be restored with the <a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#afcc61edcf6b8a5a76340cc8d287b2c3d" title="Restores the last saved state of this object. An IllegalArgumentException is thrown if no state has b...">restore()</a> method.  <a href="#a911da6190d2eea425cf10ac1cca0425e">More...</a><br/></td></tr>
<tr class="separator:a911da6190d2eea425cf10ac1cca0425e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a2d700d80b3b0aaae62cdcf3c22ac9cbc"><td class="memItemLeft" align="right" valign="top">const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#a2d700d80b3b0aaae62cdcf3c22ac9cbc">OPT_PREFIX</a> = 'P'</td></tr>
<tr class="memdesc:a2d700d80b3b0aaae62cdcf3c22ac9cbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">The prefix for packet encoding options: 'P'  <a href="#a2d700d80b3b0aaae62cdcf3c22ac9cbc">More...</a><br/></td></tr>
<tr class="separator:a2d700d80b3b0aaae62cdcf3c22ac9cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a6d0e1cd8e05ac8f745802effa2c83528"><td class="memItemLeft" align="right" valign="top">virtual byte[]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#a6d0e1cd8e05ac8f745802effa2c83528">LastBodyBuf</a><code> [get]</code></td></tr>
<tr class="memdesc:a6d0e1cd8e05ac8f745802effa2c83528"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the buffer of the body of the last encoded packet. The length of the body can be retrieved with the getLastBodyLen() method. The length of the array returned by this method may be larger than the actual body length.  <a href="#a6d0e1cd8e05ac8f745802effa2c83528">More...</a><br/></td></tr>
<tr class="separator:a6d0e1cd8e05ac8f745802effa2c83528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a048d920a32f1be4e869c28795d6e758b"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#a048d920a32f1be4e869c28795d6e758b">LastBodyLen</a><code> [get]</code></td></tr>
<tr class="memdesc:a048d920a32f1be4e869c28795d6e758b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the length of the body of the last encoded packet, in bytes. The body itself can be retrieved with the getLastBodyBuf() method.  <a href="#a048d920a32f1be4e869c28795d6e758b">More...</a><br/></td></tr>
<tr class="separator:a048d920a32f1be4e869c28795d6e758b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38cb39ffb37c5aef67ead63f34d96e80"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#a38cb39ffb37c5aef67ead63f34d96e80">PacketWritable</a><code> [get]</code></td></tr>
<tr class="memdesc:a38cb39ffb37c5aef67ead63f34d96e80"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns true if the current packet is writable i.e. should be written. Returns false otherwise.  <a href="#a38cb39ffb37c5aef67ead63f34d96e80">More...</a><br/></td></tr>
<tr class="separator:a38cb39ffb37c5aef67ead63f34d96e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48f298ad738eead1615ec370a30dc350"><td class="memItemLeft" align="right" valign="top">static System.String[][]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#a48f298ad738eead1615ec370a30dc350">ParameterInfo</a><code> [get]</code></td></tr>
<tr class="memdesc:a48f298ad738eead1615ec370a30dc350"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the parameters that are used in this class and implementing classes. It returns a 2D String array. Each of the 1D arrays is for a different option, and they have 3 elements. The first element is the option name, the second one is the synopsis, the third one is a long description of what the parameter is and the fourth is its default value. The synopsis or description may be 'null', in which case it is assumed that there is no synopsis or description of the option, respectively. Null may be returned if no options are supported.  <a href="#a48f298ad738eead1615ec370a30dc350">More...</a><br/></td></tr>
<tr class="separator:a48f298ad738eead1615ec370a30dc350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b08041f20595e080323bf0c73a8b522"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#a6b08041f20595e080323bf0c73a8b522">ROIinPkt</a><code> [get]</code></td></tr>
<tr class="memdesc:a6b08041f20595e080323bf0c73a8b522"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells if there was ROI information in the last written packet  <a href="#a6b08041f20595e080323bf0c73a8b522">More...</a><br/></td></tr>
<tr class="separator:a6b08041f20595e080323bf0c73a8b522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20492796ea72ed573368941493a3d7a7"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#a20492796ea72ed573368941493a3d7a7">ROILen</a><code> [get]</code></td></tr>
<tr class="memdesc:a20492796ea72ed573368941493a3d7a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives the length to read in current packet body to get all ROI information  <a href="#a20492796ea72ed573368941493a3d7a7">More...</a><br/></td></tr>
<tr class="separator:a20492796ea72ed573368941493a3d7a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class builds packets and keeps the state information of packet interdependencies. It also supports saving the state and reverting (restoring) to the last saved state, with the <a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#a911da6190d2eea425cf10ac1cca0425e" title="Saves the current state of this object. The last saved state can be restored with the restore() metho...">save()</a> and <a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#afcc61edcf6b8a5a76340cc8d287b2c3d" title="Restores the last saved state of this object. An IllegalArgumentException is thrown if no state has b...">restore()</a> methods. </p>
<p>Each time the <a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#a0853e901727617376d267ad4ff5cf398" title="Encodes a packet and returns the buffer containing the encoded packet header. The code-blocks appear ...">encodePacket()</a> method is called a new packet is encoded, the packet header is returned by the method, and the packet body can be obtained with the getLastBodyBuf() and getLastBodyLen() methods.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a20069a2adb18d335275fff0369db6511"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSJ2K.j2k.codestream.writer.PktEncoder.PktEncoder </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/d4a/interfaceCSJ2K_1_1j2k_1_1entropy_1_1encoder_1_1CodedCBlkDataSrcEnc.html">CodedCBlkDataSrcEnc</a>&#160;</td>
          <td class="paramname"><em>infoSrc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dc/d1a/classCSJ2K_1_1j2k_1_1encoder_1_1EncoderSpecs.html">EncoderSpecs</a>&#160;</td>
          <td class="paramname"><em>encSpec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d7a/classCSJ2K_1_1j2k_1_1image_1_1Coord.html">Coord</a>&#160;</td>
          <td class="paramname"><em>numPrec</em>[][][], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d40/classCSJ2K_1_1j2k_1_1util_1_1ParameterList.html">ParameterList</a>&#160;</td>
          <td class="paramname"><em>pl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a new packet encoder object, using the information from the 'infoSrc' object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">infoSrc</td><td>The source of information to construct the object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">encSpec</td><td>The encoding parameters.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">numPrec</td><td>Maximum number of precincts in each tile, component and resolution level.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pl</td><td>ParameterList instance that holds command line options</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0853e901727617376d267ad4ff5cf398"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../db/dd4/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1BitOutputBuffer.html">BitOutputBuffer</a> CSJ2K.j2k.codestream.writer.PktEncoder.encodePacket </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d87/classCSJ2K_1_1j2k_1_1entropy_1_1encoder_1_1CBlkRateDistStats.html">CBlkRateDistStats</a>&#160;</td>
          <td class="paramname"><em>cbs</em>[][], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>tIndx</em>[][], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/dd4/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1BitOutputBuffer.html">BitOutputBuffer</a>&#160;</td>
          <td class="paramname"><em>hbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]&#160;</td>
          <td class="paramname"><em>bbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pIdx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Encodes a packet and returns the buffer containing the encoded packet header. The code-blocks appear in a 3D array of CBlkRateDistStats, 'cbs'. The first index is the tile index in lexicographical order, the second index is the subband index (as defined in the Subband class), and the third index is the code-block index (whithin the subband tile) in lexicographical order as well. The indexes of the new truncation points for each code-block are specified by the 3D array of int 'tIndx'. The indices of this array are the same as for cbs. The truncation point indices in 'tIndx' are the indices of the elements of the 'truncIdxs' array, of the CBlkRateDistStats class, that give the real truncation points. If a truncation point index is negative it means that the code-block has not been included in any layer yet. If the truncation point is less than or equal to the highest truncation point used in previous layers then the code-block is not included in the packet. Otherwise, if larger, the code-block is included in the packet. The body of the packet can be obtained with the getLastBodyBuf() and getLastBodyLen() methods. </p>
<p>Layers must be coded in increasing order, in consecutive manner, for each tile, component and resolution level (e.g., layer 1, then layer 2, etc.). For different tile, component and/or resolution level no particular order must be followed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ly</td><td>The layer index (starts at 1).</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>The component index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The resolution level</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>Index of the current tile</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cbs</td><td>The 3D array of coded code-blocks.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tIndx</td><td>The truncation point indices for each code-block.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hbuf</td><td>The header buffer. If null a new <a class="el" href="../../db/dd4/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1BitOutputBuffer.html" title="This class implements a buffer for writing bits, with the required bit stuffing policy for the packet...">BitOutputBuffer</a> is created and returned. This buffer is reset before anything is written to it.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bbuf</td><td>The body buffer. If null a new one is created. If not large enough a new one is created.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pIdx</td><td>The precinct index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><p class="startdd">The buffer containing the packet header.</p>
<p class="enddd"></p>
</dd></dl>

</div>
</div>
<a class="anchor" id="a96f86822014e8d0b2d084f6d532f9407"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d4/de8/classCSJ2K_1_1j2k_1_1codestream_1_1PrecInfo.html">PrecInfo</a> CSJ2K.j2k.codestream.writer.PktEncoder.getPrecInfo </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>p</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns information about a given precinct </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>Tile index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>Component index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>Resolution level index.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Precinct index</td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aae7863741bf200ff405b32daf1296257"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CSJ2K.j2k.codestream.writer.PktEncoder.reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the state of the object to the initial state, as if the object was just created. </p>

</div>
</div>
<a class="anchor" id="afcc61edcf6b8a5a76340cc8d287b2c3d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CSJ2K.j2k.codestream.writer.PktEncoder.restore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restores the last saved state of this object. An IllegalArgumentException is thrown if no state has been saved. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#a911da6190d2eea425cf10ac1cca0425e" title="Saves the current state of this object. The last saved state can be restored with the restore() metho...">save</a></dd></dl>

</div>
</div>
<a class="anchor" id="a911da6190d2eea425cf10ac1cca0425e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CSJ2K.j2k.codestream.writer.PktEncoder.save </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Saves the current state of this object. The last saved state can be restored with the <a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#afcc61edcf6b8a5a76340cc8d287b2c3d" title="Restores the last saved state of this object. An IllegalArgumentException is thrown if no state has b...">restore()</a> method. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#afcc61edcf6b8a5a76340cc8d287b2c3d" title="Restores the last saved state of this object. An IllegalArgumentException is thrown if no state has b...">restore</a></dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a2d700d80b3b0aaae62cdcf3c22ac9cbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char CSJ2K.j2k.codestream.writer.PktEncoder.OPT_PREFIX = 'P'</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The prefix for packet encoding options: 'P' </p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a class="anchor" id="a6d0e1cd8e05ac8f745802effa2c83528"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual byte [] CSJ2K.j2k.codestream.writer.PktEncoder.LastBodyBuf</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the buffer of the body of the last encoded packet. The length of the body can be retrieved with the getLastBodyLen() method. The length of the array returned by this method may be larger than the actual body length. </p>
<dl class="section return"><dt>Returns</dt><dd><p class="startdd">The buffer of body of the last encoded packet.</p>
<p class="enddd"></p>
</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">IllegalArgumentException</td><td>If no packet has been coded since last <a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#aae7863741bf200ff405b32daf1296257" title="Resets the state of the object to the initial state, as if the object was just created. ">reset()</a>, last <a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html#afcc61edcf6b8a5a76340cc8d287b2c3d" title="Restores the last saved state of this object. An IllegalArgumentException is thrown if no state has b...">restore()</a>, or object creation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd>getLastBodyLen</dd></dl>

</div>
</div>
<a class="anchor" id="a048d920a32f1be4e869c28795d6e758b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int CSJ2K.j2k.codestream.writer.PktEncoder.LastBodyLen</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the length of the body of the last encoded packet, in bytes. The body itself can be retrieved with the getLastBodyBuf() method. </p>
<dl class="section return"><dt>Returns</dt><dd><p class="startdd">The length of the body of last encoded packet, in bytes.</p>
<p class="enddd"></p>
</dd></dl>
<dl class="section see"><dt>See Also</dt><dd>getLastBodyBuf</dd></dl>

</div>
</div>
<a class="anchor" id="a38cb39ffb37c5aef67ead63f34d96e80"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool CSJ2K.j2k.codestream.writer.PktEncoder.PacketWritable</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns true if the current packet is writable i.e. should be written. Returns false otherwise. </p>

</div>
</div>
<a class="anchor" id="a48f298ad738eead1615ec370a30dc350"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">System.String [][] CSJ2K.j2k.codestream.writer.PktEncoder.ParameterInfo</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the parameters that are used in this class and implementing classes. It returns a 2D String array. Each of the 1D arrays is for a different option, and they have 3 elements. The first element is the option name, the second one is the synopsis, the third one is a long description of what the parameter is and the fourth is its default value. The synopsis or description may be 'null', in which case it is assumed that there is no synopsis or description of the option, respectively. Null may be returned if no options are supported. </p>
<dl class="section return"><dt>Returns</dt><dd><p class="startdd">the options name, their synopsis and their explanation, or null if no options are supported.</p>
<p class="enddd"></p>
</dd></dl>

</div>
</div>
<a class="anchor" id="a6b08041f20595e080323bf0c73a8b522"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool CSJ2K.j2k.codestream.writer.PktEncoder.ROIinPkt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tells if there was ROI information in the last written packet </p>

</div>
</div>
<a class="anchor" id="a20492796ea72ed573368941493a3d7a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int CSJ2K.j2k.codestream.writer.PktEncoder.ROILen</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">get</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gives the length to read in current packet body to get all ROI information </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>CSJ2K/j2k/codestream/writer/PktEncoder.cs</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../da/db8/namespaceCSJ2K.html">CSJ2K</a></li><li class="navelem"><a class="el" href="../../d3/d10/namespaceCSJ2K_1_1j2k.html">j2k</a></li><li class="navelem"><a class="el" href="../../db/dae/namespaceCSJ2K_1_1j2k_1_1codestream.html">codestream</a></li><li class="navelem"><a class="el" href="../../d6/dbf/namespaceCSJ2K_1_1j2k_1_1codestream_1_1writer.html">writer</a></li><li class="navelem"><a class="el" href="../../d2/dc2/classCSJ2K_1_1j2k_1_1codestream_1_1writer_1_1PktEncoder.html">PktEncoder</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
